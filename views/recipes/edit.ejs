<body>
  <%- include('../partials/_navbar') %>
  <h1>Edit Recipe</h1>

  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
    <!-- Recipe Name -->
    <label for="name">Recipe Name:</label>
    <input
      type="text"
      id="name"
      name="name"
      value="<%= recipe.name %>"
      required
    />
    <br />

    <!-- Instructions -->
    <label for="instructions">Instructions:</label>
    <textarea id="instructions" name="instructions" required>
<%= recipe.instructions %></textarea
    >
    <br />

    <!-- Ingredients -->
    <h2>Ingredients</h2>
    <ul>
      <% ingredients.forEach(ingredient => { %>
      <li>
        <label>
          <input type="checkbox" name="ingredients" value="<%= ingredient._id
          %>" <%= recipe.ingredients.some(rIng => rIng.equals(ingredient._id)) ?
          'checked' : '' %> /> <%= ingredient.name %>
        </label>
      </li>
      <% }) %>
    </ul>

    <!-- Submit Button -->
    <button type="submit">Update Recipe</button>
  </form>
</body>
