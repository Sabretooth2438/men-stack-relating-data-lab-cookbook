<head>
  <link rel="stylesheet" href="/stylesheets/style.css" />
</head>
<body>
  <%- include('../partials/_navbar') %>
  <h1>Edit Recipe</h1>

  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
    <label for="name">Recipe Name:</label>
    <input
      type="text"
      id="name"
      name="name"
      value="<%= recipe.name %>"
      required
    />

    <label for="instructions">Instructions:</label>
    <textarea id="instructions" name="instructions">
<%= recipe.instructions %></textarea
    >

    <h2>Ingredients</h2>
    <div class="ingredients-scroll">
      <ul>
        <% ingredients.forEach(ingredient => { %>
        <li>
          <label>
            <input type="checkbox" name="ingredients" value="<%= ingredient._id
            %>" <%= recipe.ingredients.some(i => i.toString() ===
            ingredient._id.toString()) ? 'checked' : '' %> /> <%=
            ingredient.name %>
          </label>
        </li>
        <% }) %>
      </ul>
    </div>

    <label for="newIngredient">Add New Ingredient:</label>
    <input type="text" id="newIngredient" placeholder="New Ingredient" />
    <button type="button" id="addIngredientBtn">Add Ingredient</button>

    <button type="submit">Save Changes</button>
  </form>
</body>
